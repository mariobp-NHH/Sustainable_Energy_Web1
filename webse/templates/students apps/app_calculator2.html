{% extends "layout.html" %}
{% block content %}
    <section id="introduction" class="bg-white p-5 p-lg-5 pt-lg-5 text-center text-sm-start">
        <div class="container">

            <div class="section_calculator_students_output_css">
                <div class="box">
                    <legend class="border-bottom mb-4">{{ legend }}</legend>
                    <p>{{ paragraph }}</p>
                        <form method="POST" action="">
                            {{ form.csrf_token }}
                            <div class="section_km_fuel_css">
                                <div class="box">
                                    {{ form.bus_type.label(class="form-control-label") }}
                                    {% if form.bus_type.errors %}
                                        {{ form.bus_type(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.bus_type.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.bus_type(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.bus_kms.label(class="form-control-label") }}
                                    {% if form.bus_kms.errors %}
                                        {{ form.bus_kms(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.bus_kms.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.bus_kms(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>

                                <div class="box">
                                    {{ form.bus_co2.label(class="form-control-label") }}
                                    {{ form.bus_co2(class="form-control form-control-lg") }}
                                </div>
                            </div>

                            <div class="section_km_fuel_css">
                                <div class="box">
                                    {{ form.car_type.label(class="form-control-label") }}
                                    {% if form.car_type.errors %}
                                        {{ form.car_type(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.car_type.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.car_type(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.car_kms.label(class="form-control-label") }}
                                    {% if form.car_kms.errors %}
                                        {{ form.car_kms(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.car_kms.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.car_kms(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>

                                <div class="box">
                                    {{ form.car_co2.label(class="form-control-label") }}
                                    {{ form.car_co2(class="form-control form-control-lg") }}
                                </div>
                            </div>

                            <div class="section_km_fuel_css">
                                <div class="box">
                                    {{ form.plane_type.label(class="form-control-label") }}
                                    {% if form.plane_type.errors %}
                                        {{ form.plane_type(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.plane_type.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.plane_type(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.plane_kms.label(class="form-control-label") }}
                                    {% if form.plane_kms.errors %}
                                        {{ form.plane_kms(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.plane_kms.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.plane_kms(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.plane_co2.label(class="form-control-label") }}
                                    {{ form.plane_co2(class="form-control form-control-lg") }}
                                </div>
                            </div>

                            <div class="section_km_fuel_css">
                                <div class="box">
                                    {{ form.ferry_type.label(class="form-control-label") }}
                                    {% if form.ferry_type.errors %}
                                        {{ form.ferry_type(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.ferry_type.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.ferry_type(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.ferry_kms.label(class="form-control-label") }}
                                    {% if form.ferry_kms.errors %}
                                        {{ form.ferry_kms(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.ferry_kms.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.ferry_kms(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.ferry_co2.label(class="form-control-label") }}
                                    {{ form.ferry_co2(class="form-control form-control-lg") }}
                                </div>
                            </div>

                            <div class="section_km_fuel_css">
                                <div class="box">
                                    {{ form.motorbike_type.label(class="form-control-label") }}
                                    {% if form.motorbike_type.errors %}
                                        {{ form.motorbike_type(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.motorbike_type.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.motorbike_type(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.motorbike_kms.label(class="form-control-label") }}
                                    {% if form.motorbike_kms.errors %}
                                        {{ form.motorbike_kms(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.motorbike_kms.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.motorbike_kms(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.motorbike_co2.label(class="form-control-label") }}
                                    {{ form.motorbike_co2(class="form-control form-control-lg") }}
                                </div>
                            </div>

                            <div class="section_km_fuel_css">
                                <div class="box">
                                    {{ form.scooter_type.label(class="form-control-label") }}
                                    {% if form.scooter_type.errors %}
                                        {{ form.scooter_type(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.scooter_type.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.scooter_type(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.scooter_kms.label(class="form-control-label") }}
                                    {% if form.scooter_kms.errors %}
                                        {{ form.scooter_kms(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.scooter_kms.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.scooter_kms(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.scooter_co2.label(class="form-control-label") }}
                                    {{ form.scooter_co2(class="form-control form-control-lg") }}
                                </div>
                            </div>

                            <div class="section_km_fuel_css">
                                <div class="box">
                                    {{ form.bicycle_type.label(class="form-control-label") }}
                                    {% if form.bicycle_type.errors %}
                                        {{ form.bicycle_type(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.bicycle_type.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.bicycle_type(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.bicycle_kms.label(class="form-control-label") }}
                                    {% if form.bicycle_kms.errors %}
                                        {{ form.bicycle_kms(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.bicycle_kms.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.bicycle_kms(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.bicycle_co2.label(class="form-control-label") }}
                                    {{ form.bicycle_co2(class="form-control form-control-lg") }}
                                </div>
                            </div>

                            <div class="section_km_fuel_css">
                                <div class="box">
                                    {{ form.walk_type.label(class="form-control-label") }}
                                    {% if form.walk_type.errors %}
                                        {{ form.walk_type(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.walk_type.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.walk_type(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.walk_kms.label(class="form-control-label") }}
                                    {% if form.walk_kms.errors %}
                                        {{ form.walk_kms(class="form-control form-control-lg is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.walk_kms.errors %}
                                                <span>{{ error }}</span>
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.walk_kms(class="form-control form-control-lg") }}
                                    {% endif %}
                                </div>
                                <div class="box">
                                    {{ form.walk_co2.label(class="form-control-label") }}
                                    {{ form.walk_co2(class="form-control form-control-lg") }}
                                </div>
                            </div>



                            </br>
                            <div class="form-group">
                                <a href="{{ url_for('students_apps.students_apps_app_calculator') }}" class="btn btn-primary btn-lg mr-2", style="background-color=#007bff;">New Entry</a>
                            </div>
                        </form>
                </div>
                <div class="box">
                    <canvas id="co2_transport"></canvas>
                </div>
            </div>

            {% block javascript2 %}
    <script>

        Chart.scaleService.updateScaleDefaults('linear', {
                ticks: {
                    min: 0
                }
        });


        let co2_transport_chart = new Chart(co2_transport, {
                type: 'pie',
                data: {
                labels: ['CO2 bus', 'CO2 car', 'CO2 plane', 'CO2 ferry', 'CO2 motorbike', 'CO2 scooter', 'CO2 bicycle', 'CO2 walk'],
                    datasets: [{
                        label: "CO2 transport",
                        data: [{{co2_bus}}, {{co2_car}}, {{co2_plane}}, {{co2_ferry}}, {{co2_motorbike}}, {{co2_scooter}}, {{co2_bicycle}}, {{co2_walk}}],
                        backgroundColor: ['#f2935c', '#f2d95c', '#f2e3b6', '#f2c299', '#f2c1b6', '#f2b84b', '#f27405', '#9ac2be'],

                        borderWidth: 1,
                        hoverBorderColor: "black",
                        hoverBorderWidth: 2,
                        hoverBackgroundColor: 'rgba(154, 245, 140)',
                        pointHoverRadius: 5
                    }],
                },
                options: {
                        title: {
                            display: true,
                                text: "CO2 Transport",
                                    fontSize: 20,
                        },
                        legend: {
                            position: "right",
                                labels: {
                                fontColor: "gray"
                            },
                            display: true,
                        },

                        elements: {
                            hitRadius: 3,
                        }
                }
            })


    </script>
    {% endblock%}


        </div>
    </section>
{% endblock content %}